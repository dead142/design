# Объекты и классы в ООП.

В объектно-ориентированном программировании все данные определенного вида и все операции их обработки сводятся в некое единое целое, называемое объектом, который включает в себя набор переменных, называемых _свойствами_ (или атрибутами) для хранения данных, и функций, называемых _методами_, предназначенными для обработки данных объекта. К свойствам объекта можно получить доступ только через его методы, которые все вместе образуют _интерфейс объекта_. Такое сокрытие, или, более научно, инкапсуляция, данных, является основным достоинством объектно-ориентированного программирования.
Действия, выполняемые объектом, распространяются только на используемые им данные, что позволяет разбить общую задачу на независимые части.

В объектно-ориентированной программе каждый объект идентифицируется отдельной переменной, с помощью которой становится возможным обращение к нему из программы. Например, в программе могут существовать два объекта, которые реализуют диалоговые окна, отличающиеся только размерами. Чтобы программа могла обратиться к этим объектам, при их создании каждому объекту присваивается уникальный идентификатор, хранящийся в отдельной переменной программы.

Объекты могут группироваться в классы, которые включают в себя объекты со сходными признаками. В этих классах содержатся объекты, у которых одинаковые методы в каждом объекте действуют одинаково, а одинаковые переменные объекта представляют одни и те же свойства. Однако каждый объект класса может иметь различный набор переменных. Скажем, класс диалоговых окон может содержать объекты, отличающиеся набором элементов интерфейса (кнопками, меню и пр.). Но методы изменения размеров и перемещения окон должны совпадать.

Таким образом, объектно-ориентированное программирование состоит в описании структуры и поведения проектируемой программы, отвечающем на вопросы:

+ из каких частей состоит программа;
+ какие функции реализует каждая часть.

Каждая часть должна иметь минимальный и точно определенный набор функций и быть как можно меньше связанной с остальными частями. Начав с крупных частей, нужно последовательно уточнить и выделить более мелкие объекты и т. д., составив иерархическую структуру классов. После этого каждый компонент может реализовываться независимо от остальных.

Объектно-ориентированный язык программирования должен поддерживать _полиморфизм_, который представляет собой возможность исполнять одну и ту же операцию в различных классах по-разному. Например, в классе геометрических фигур объекты эллипс, круг могут подвергаться деформации одной и той же функцией, переопределяемой в зависимости от конкретной ситуации, что значительно упрощает написание кода.

Другая отличительная особенность объектно-ориентированной программы — _наследование_, которое позволяет создавать из одного класса, называемого родительским, другой подкласс — _дочерний_, образуя иерархические взаимосвязи между ними. Дочерний класс наследует свойства и методы своего родительского класса. Используя наследование, можно расширять и дополнять существующие классы. По мере необходимости из простого базового класса можно получать сложные и специализированные производные классы. Это делает код более пригодным для повторного использования, что является одним из важных преимуществ объектно-ориентированного подхода.

##  Создание классов, свойств и методов.
Теперь перейдем к обсуждению практической реализации всего вышесказанного в языке PHP. Для создания класса в РНР используется ключевое слово class. Вот как выполняется объявление класса:

```class имя_класса```

Запись ```имя_класса``` обозначает имя создаваемого класса.

Каждый класс должен иметь методы и свойства. Свойства определяются внутри класса с помощью ключевого слова ```var```:

```php
class MyClass
{
var $parameter1;
var $parameter2;
}
```
 А сейчас добавим в класс методы:

```php
class MyClass
{
var $parameter1;
var $parameter2;
function metod 1($parameter2)
{
}
function metod2 ($parameterl, $parameter2)
{
}
}
```

Здесь в классе ```MyClass``` создаются два метода ```metod1``` и ```metod2```, которые принимают один и два параметра соответственно.

В большинстве классов используются особые методы, называемые _конструкторами_. Они автоматически исполняются при создании класса и служат для задания начальных значений свойствам класса. В PHP конструктор объявляется так же, как другие методы, но с именем ```_constract()```:

```php
class MyClass
{
  function _construct ($param)
   {
    $param=10;
   }
}
```

Если по ходу исполнения программы все ссылки на объект — экземпляр класса удаляются или выходят из области видимости, то автоматически исполняется функция — деструктор, которая по своим действиям противоположна конструктору и отменяет все сделанные им операции.

## Создание объектов – экземпляров класса

Чтобы начать работу со средствами, предоставляемыми классом, следует создать объект, представляющий собой конкретную реализацию свойств и методов класса, так называемый экземпляр класса. Образно говоря, класс можно сравнить с неким шаблоном, штампом, «применением» которого к заготовке «штампуется», то есть создается, конкретная «реализация» шаблона — нужная вам деталь. Так и в программе, при создании объекта в области памяти формируется структура данных, хранящая свойства и методы класса, к которым вы можете обращаться из программы. Как и для механического штампа, для каждого класса может быть создано множество «деталей» — экземпляров класса, независимых друг от друга. Вы сможете работать с каждым из созданных объектов по отдельности, не затрагивая остальные.

Для создания объекта используется ключевое слово new, в котором указывается класс, на основе которого создается объект, и параметры исполнения конструктора класса. Вот пример создания трех объектов одного и того же класса MyClass:

```php
class MyClass
{
  function MyClass($param)
    {
         echo "<p> Конструктору класса передано значение параметра $param </p>";
    }
}
$a = new MyClass ("Class_1") ;
$b = new MyClass ("Class_2") ;
$c = new MyClass ("Class_3") ;
```

При каждой операции вызова класса автоматически вызывается конструктор класса ```MyClass```,
которому передается значение параметра $param: ```Class_1```, ```Class_2``` и ```Class_3``` соответственно,
 которые будут отображаться при каждом исполнении функции.
  Определения функции могут включить указание типа класса,
   передаваемого в качестве параметра. Если функция будет вызвана с неправильным типом, то произойдет ошибка.

```php
function receiveMyClass(MyClass $object)
{
}
```

Функция может также возвращать объект.

## Обращение к свойствам и методам

Итак, у нас есть класс, содержащий свойства и методы — программы, которые обрабатывают данные, хранимые в свойствах. Чтобы обратиться к свойству класса из метода этого класса, следует использовать специальную переменную $this следующим образом:

```php
class MyClass
{
var $myclass_parameter;
function MyClassFunction ($param)
  {
    $this->myclass_parameter = $param
    echo $this->myclass_parameter;
  }
}
```

Здесь свойству ```$myclass_parameter``` класса ```MyClass``` внутри функции ```MyClassFunction``` присваивается
 значение параметра функции ```$param```, что указывается в записи ```$this->myclass_parameter```.
 
Доступ к свойствам и методам класса из кода вне класса в PHP определяется специальными модификаторами доступа:
+ public (общедоступны) — открывает доступ к свойствам и методам класса;  
+ private (приватный) — разрешает доступ к свойствам и методам класса только изнутри и запрещает наследование;
+ protected (защищенный) — разрешает доступ к свойствам и методам класса только изнутри и разрешает наследование.

По умолчанию всем свойствам класса присваивается модификатор ```public```, после чего к его свойствам и методам можно обращаться таким образом:

```php
class MyClass
{
public $myclass_parameter;
}
$object = new MyClass ();
$object->myclass_parameter = "value";
```

В этом коде мы сначала создали объект класса MyClass и обратились к свойству объекта, записав:

```php
$object->myclass_parameter
```

Тем самым мы изменили свойство класса извне кода класса.

Для обращения к методам класса используются очень похожие конструкции языка. Например, пусть у нас имеется класс:

```php
class MyClass
  {
    function MyClassFunction ($param);
      {
      }
}
```

Тогда для вызова функции ```MyClassFunction``` извне класса следует писать так:

```php
$MyClassObject = new MyClass(); $MyClassObject->MyClassFunction("value");
```

Как видите, запись почти аналогична обращению к свойству класса, только вместо имени свойства используется название метода класса.

Для получения данных, возвращаемых методом класса, следует писать так: 
```$return_value=$MyClassObject->MyClassFunction("value");```
Таким образом, вы поняли, как в PHP реализуется работа со свойствами и методами класса. Но этим возможности PHP отнюдь не исчерпываются.
