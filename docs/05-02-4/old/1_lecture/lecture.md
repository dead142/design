# Синтаксис php, математические операции, типы данных

## Имена переменных

+ Имена всех переменных в PHP должны начинаться со знака $;
+ Имена переменных чувствительны к регистру букв: например, $var — не то же самое, что $Var или $VAR:
+ имя переменной может состоять из символов кириллицы. **Однако не рекоммендуется применять кириллицу в именах переменных**;
+ переменные в PHP — это особые объекты, которые могут содержать   "все, что угодно";
+ в PHP не нужно ни описывать переменные явно, ни указывать их тип;
```php
<?php
$var = "Иван";
$Var = "Кирилл";
echo "$var, $Var";      // "Иван, Кирилл"

$4site = 'not yet';     // неверно; начинается с цифры
$_4site = 'not yet';    // верно; начинается с символа подчеркивания
$tдyte = 'mansikka';    // верно; 'д' это (Дополнительный) ASCII 228.
?>
```

## Типы данных (переменных) в PHP

### Тип Boolean (двоичные данные)
Может быть либо TRUE, либо FALSE

```php
<?php
$x = True; // присвоить $x значение TRUE
?>
```

Обычно используется, как условие:

```php
<?php
if ($someparam == TRUE) {
     echo "<hr>\n";
}
?>
```

или еще проще:

```php
<?php
if ($someparam) {
     echo "<hr>\n";
}
?>
```

### Тип integer (целые числа)

Целое это число из множества Z = {..., -2, -1, 0, 1, 2, ...}, обычно длиной 32 бита (от –2 147 483 648 до 2 147 483 647).

Целые могут быть указаны в десятичной, шестнадцатеричной или восьмеричной системе счисления, по желанию с предшествующим знаком (- или +).

```php
<?php
$a = 1234; // десятичное число
$a = -123; // отрицательное число
$a = 0123; // восьмеричное число (эквивалентно 83 в десятичной системе)
$a = 0x1A; // шестнадцатеричное число (эквивалентно 26 в десятичной системе)
?>
```

### Тип float (числа с плавающей точкой)

Double - вещественное число довольно большой точности (ее должно хватить для подавляющего большинства математических вычислений).

Размер целого зависит от платформы, хотя максимум, как правило, ~1.8e308 с точностью около 14 десятичных цифр (это 64-битный IEEE-формат).

**ВАЖНО: ** 1/3 в десятичной форме принимает вид 0.3333333. . .. не доверяйте точности последних цифр в результатах с числами с плавающей точкой и никогда не проверяйте их на равенство. Если вам действительно необходима высокая точность, вам следует использовать математические функции произвольной точности или gmp-функции.

```php
<?php
$a = 1.234;
$b = 1.2e3;
$c = 7E-10;

echo (0.1+0.7)*10;  // =8
echo floor((0.1+0.7)*10);  // =7 Странное поведение PHP
//Ф-ция floor()Возвращает следующее наименьшее целочисленное значение (как число с плавающей запятой), округляя значение в случае необходимости.

?>
```

### Тип string (строки)

Строка может быть определена тремя различными способами.

+ одинарными кавычками
+ двойными кавычками
+ heredoc-синтаксисом

#### Одинарные кавычки
Простейший способ определить строку - это заключить ее в одинарные кавычки (символ ').

Чтобы использовать одинарную кавычку внутри строки, как и во многих других языках, ее необходимо предварить символом обратной косой черты (\), т. е. экранировать ее.

```php
<?php
echo 'это простая строка';

echo 'Также вы можете вставлять в строки
символ новой строки таким образом,
поскольку это нормально';

// Выведет: Однажды Арнольд сказал: "I'll be back"
echo 'Однажды Арнольд сказал: "I\'ll be back"';

// Выведет: Вы удалили C:\*.*?
echo 'Вы удалили C:\\*.*?';

// Выведет: Вы удалили C:\*.*?
echo 'Вы удалили C:\*.*?';

// Выведет: Это не вставит: \n новую строку
echo 'Это не вставит: \n новую строку';

// Выведет: Переменные $expand также $either не подставляются
echo 'Переменные $expand также $either не подставляются';
?>
```

#### Двойные кавычки

Если строка заключена в двойные кавычки ("), PHP распознает большее количество управляющих последовательностей для специальных символов:

| Последовательность	| Значение |
|---------------|------------------|
|\n	|новая строка (LF или 0x0A (10) в ASCII) |
|\r	|возврат каретки (CR или 0x0D (13) в ASCII) |
|\t	|горизонтальная табуляция (HT или 0x09 (9) в ASCII) |
|\\	|обратная косая черта |
|\$	|знак доллара|
|\"	|двойная кавычка|
|\[0-7]{1,3} |	последовательность символов, соответствующая регулярному выражению, символ в восьмеричной системе счисления |
|\x[0-9A-Fa-f]{1,2} |	последовательность символов, соответствующая регулярному выражению, символ в шестнадцатеричной системе счисления |

**Если строка определяется в двойных кавычках, либо при помощи heredoc, переменные внутри нее обрабатываются.**

Существует два типа синтаксиса: простой и сложный. Простой синтаксис более легок и удобен. Он дает возможность обработки переменной, значения массива (array) или свойства объекта (object).

Сложный синтаксис был введен в PHP 4 и может быть распознан по фигурным скобкам, окружающих выражение.

Если интерпретатор встречает знак доллара ($), он захватывает так много символов, сколько возможно, чтобы сформировать правильное имя переменной. Если вы хотите точно определить конец имени, заключайте имя переменной в фигурные скобки.

```php
<?php
$beer = 'Heineken';
echo "$beer's taste is great"; // работает, "'" это неверный символ для имени переменной
echo "He drank some $beers";   // не работает, 's' это верный символ для имени переменной
echo "He drank some ${beer}s"; // работает
echo "He drank some {$beer}s"; // работает
?>
```

Символы в строках можно использовать и модифицировать, определив их смещение относительно начала строки, начиная с нуля, в фигурных скобках после строки. Приведем примеры:


```
<?php
// Получение первого символа строки
$str = 'Это тест.';
$first = $str{0};

// Получение третьего символа строки
$third = $str{2};

// Получение последнего символа строки
$str = 'Это все еще тест.';
$last = $str{strlen($str)-1};

// Изменение последнего символа строки
$str = 'Посмотри на море';
$str{strlen($str)-1} = 'я';

?>
```

#### Heredoc-синтаксис

Другой способ определения строк - это использование heredoc-синтаксиса ("<<<"). После <<< необходимо указать идентификатор, затем идет строка, а потом этот же идентификатор, закрывающий вставку.

Внимание! Очень важно отметить, что строка с закрывающим идентификатором не содержит других символов, за исключением, возможно, точки с запятой (;). Это означает, что идентификатор не должен вводиться с отступом и что не может быть никаких пробелов или знаков табуляции до или после точки с запятой. Важно также понимать, что первым символом перед закрывающим идентификатором должен быть символ новой строки, определенный в вашей операционной системе. Например, на Windows® это \r.

Если это правило нарушено и закрывающий идентификатор не является "чистым", считается, что закрывающий идентификатор отсутствует и PHP продолжит его поиск дальше. Если в этом случае верный закрывающий идентификатор так и не будет найден, то это вызовет ошибку в обработке с номером строки в конце скрипта.

```php
<?php
$str = <<<EOD
Пример строки,
охватывающей несколько строчек,
с использованием heredoc-синтаксиса.
EOD;

/* Более сложный пример с переменными. */
class foo
{
     var $foo;
     var $bar;

     function foo()
     {
         $this->foo = 'Foo';
         $this->bar = array('Bar1', 'Bar2', 'Bar3');
     }
}

$foo = new foo();
$name = 'МоеИмя';

echo <<<EOT
Меня зовут "$name". Я печатаю $foo->foo.
Теперь я вывожу {$foo->bar[1]}.
Это должно вывести заглавную букву 'A': \x41
EOT;
?>
```

### Массивы

Существует два типа массивов, различающиеся по способу идентификации элементов.

1. В массивах первого типа элемент определяется индексом в последовательности. Такие массивы называются простыми массивами.

2. Массивы второго типа имеют ассоциативную природу, и для обращения к элементам используются ключи, логически связанные со значениями. Такие массивы называют ассоциативными массивами.
https://www.php.net/manual/ru/language.types.php